var Chivatu=function(){"use strict";class e{constructor(t={}){return e.instance?e.instance:(e.instance=this,this.config=[],this.observer,this.options=Object.assign({threshold:[0,1]},t),this.isSupported()&&(this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?this._loadElement(e.target,e.intersectionRatio):this._unloadElement(e.target)})},this.options)),this)}isSupported(){return"IntersectionObserver"in window}add(e){const{selector:t}=e;this.config.push(e),document.querySelectorAll(t).forEach(e=>this.observer.observe(e))}_loadElement(e,t){for(let s of this.config){let{selector:o,once:n,onVisible:i}=s;e.matches(o)&&("function"==typeof i&&i(e,t),n&&this.observer.unobserve(e))}}_unloadElement(e){for(let t of this.config){let{selector:s,onHidden:o}=t;e.matches(s)&&"function"==typeof o&&o(e)}}}return e}();
